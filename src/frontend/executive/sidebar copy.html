<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Bootstrap CSS -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet" integrity="sha384-Q
    <!-- sidebar.html -->
    <style>
      .sidebar {
        background-color: #f0d3b8;
        position: fixed; /* ขณะจอกว้างจะ fix ด้านซ้าย */
        top: 0;
        left: 0;
        bottom: 0;
        width: 100%;
        max-width: 290px;
        padding: 20px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
      }

      /* ปุ่มที่ถูก highlight สีส้ม */
      .btn-sidebar-active {
        background-color: orangered !important;
        color: #fff !important;
      }

      /* ทำให้ปุ่ม (หรือแท็ก a) ยืดความกว้างเต็ม container */
      .sidebar .d-grid a {
        width: 100%;
      }
      .sidebar .d-grid a > button {
        width: 100%;
      }

      /* Media Query เมื่อจอเล็กลง (ตัวอย่างใช้ 992px) */
      @media (max-width: 992px) {
        /* ให้ Sidebar ไม่ fix แล้วกินความกว้างเต็ม (อยู่ด้านบน) */
        .sidebar {
          position: static;
          width: 100%;
          max-width: none;
          height: auto;
        }
      }
    </style>

    <div class="sidebar d-flex flex-column justify-content-between">
      <div class="d-grid gap-4">
        <div style="text-align: center">
          <img
            style="border-radius: 10px; border: 2px solid white"
            src="logo.png"
            alt="logo"
            width="90px"
          />
        </div>
        <!-- ปุ่มคำขออนุมัติการจองห้อง -->
        <a href="booking_rooms_requests.html">
          <button
            id="btnReceive"
            class="text-center btn btn-secondary position-relative p-3 text-start"
            style="font-weight: bold; font-size: 14px"
          >
            คำขออนุมัติการจองห้อง
            <span
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
              style="font-size: 12px"
            >
              10
            </span>
          </button>
        </a>

        <!-- ปุ่มรายการอุปกรณ์ชำรุด -->
        <a href="crash_equipments_requests.html">
          <button
            id="btnBroken"
            class="text-center btn btn-secondary position-relative p-3 text-start"
            style="font-weight: bold; font-size: 14px"
          >
            รายการอุปกรณ์ชำรุด
            <span
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger text-white"
              style="font-size: 12px"
            >
              3
            </span>
          </button>
        </a>

        <!-- ปุ่มข้อมูลสถิติ -->
        <a href="not_accept_requests_booking_rooms.html">
          <button
            id="btnStats"
            class="text-center btn btn-secondary p-3 text-start"
            style="font-weight: bold; font-size: 14px"
          >
            ข้อมูลสถิติ
          </button>
        </a>
      </div>

      <!-- ปุ่มออกจากระบบ -->
      <div>
        <button
          class="btn w-100 p-3"
          style="
            background-color: orangered;
            font-weight: bold;
            font-size: 20px;
            color: #fff;
          "
        >
          ออกจากระบบ
        </button>
      </div>
    </div>
    WTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous" />
    <style>
      body {
        font-family: Arial, sans-serif;
      }

      /* Sidebar */
      .sidebar {
        position: fixed;
        height: 100vh;
        width: 250px;
        background-color: #f0d3b8;
        border-right: 1px solid #ddd;
        padding-top: 60px;
        /* เพิ่มระยะห่างด้านบนเพื่อให้ปุ่ม Menu อยู่ข้างบน */
        padding-left: 20px;
        padding-right: 20px;
        transition: transform 0.3s ease;
        z-index: 1000;
        top: 0;
        left: -250px;
        /* ซ่อน Sidebar เมื่อไม่เปิด */
      }

      .sidebar.open {
        left: 0;
        /* เปิด Sidebar */
      }

      /* Toggle Button (ปุ่มเมนู) */
      .toggle-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1001;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 10px 15px;
        cursor: pointer;
      }

      /* Content */
      .content {
        margin-left: 0;
        padding: 20px;
        transition: margin-left 0.3s ease;
      }

      .content.shifted {
        margin-left: 250px;
        /* เลื่อนเนื้อหาหลักเมื่อ Sidebar เปิด */
      }

      /* ปุ่มใน Sidebar */
      .sidebar button {
        margin-bottom: 15px;
        width: 100%;
        font-weight: bold;
        font-size: 14px;
        position: relative;
        /* ให้ปุ่มเป็นตำแหน่ง relative */
        padding-right: 30px;
        /* เพิ่มระยะห่างด้านขวาของปุ่ม เพื่อให้ไม่ทับกับ badge */
      }

      .sidebar .badge {
        position: absolute;
        top: 0;
        /* อยู่ที่ด้านบน */
        right: 0;
        /* อยู่ที่ด้านขวา */
        transform: translate(50%, -50%);
        /* เลื่อนให้ badge อยู่ข้างมุมขวาบน */
      }

      .sidebar .btn-logout {
        position: absolute;
        bottom: 20px;
        width: 100%;
      }

      .content-area {
        margin-left: 290px; /* เว้นด้านซ้ายกันทับกับ Sidebar */
      }
      /* Responsive: จอเล็ก */
      @media (max-width: 576px) {
        .sidebar {
          position: relative;
          width: 100%;
          max-width: 100%;
          box-shadow: none;
        }
        .content-area {
          margin-left: 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="sidebar" id="sidebar">
      <div class="d-grid gap-4 mt-3">
        <button
          class="btn btn-secondary p-3"
          style="font-weight: bold; font-size: 14px"
        >
          คำขออนุมัติการจองห้อง
          <span class="badge bg-danger">10</span>
        </button>
        <button
          class="btn btn-secondary p-3"
          style="font-weight: bold; font-size: 14px"
        >
          รายการอุปกรณ์ชำรุด
          <span class="badge bg-danger">3</span>
        </button>
        <button
          class="btn btn-secondary p-3"
          style="font-weight: bold; font-size: 14px"
        >
          ข้อมูลสถิติ
        </button>
      </div>
      <button
        class="btn p-3 text-white"
        style="font-weight: bold; font-size: 20px; background-color: orangered"
      >
        ออกจากระบบ
      </button>
    </div>
    <button class="toggle-btn" onclick="toggleSidebar()" id="toggle-btn">
      ☰ Menu
    </button>

    <!-- เนื้อหา -->
    <div class="content-area">
      <div class="container-fluid py-3">
        <!-- Nav Tabs -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="broken-tab"
              data-bs-toggle="tab"
              data-bs-target="#broken"
              type="button"
              role="tab"
              aria-controls="broken"
              aria-selected="true"
            >
              อุปกรณ์ชำรุด (3)
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="accepted-tab"
              data-bs-toggle="tab"
              data-bs-target="#accepted"
              type="button"
              role="tab"
              aria-controls="accepted"
              aria-selected="false"
            >
              รับเรื่องแล้ว (5)
            </button>
          </li>
        </ul>

        <!-- Tab Contents -->
        <div class="tab-content" id="myTabContent">
          <!-- แท็บ: อุปกรณ์ชำรุด -->
          <div
            class="tab-pane fade show active"
            id="broken"
            role="tabpanel"
            aria-labelledby="broken-tab"
          >
            <!-- ตัวอย่าง Card -->
            <div class="card my-3" id="card-projector">
              <div class="card-header">โปรเจคเตอร์</div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-3">
                    <img
                      src="https://via.placeholder.com/300x200?text=Projector"
                      alt="โปรเจคเตอร์"
                      class="img-fluid rounded"
                    />
                  </div>
                  <div class="col-md-9">
                    <h5 class="card-title">โปรเจคเตอร์เสีย ไม่แสดงผล</h5>
                    <p class="mb-1"><strong>ห้อง:</strong> SC2-414</p>
                    <p class="mb-1">
                      <strong>ผู้แจ้ง:</strong> นายสมชาย ชูเชิด
                    </p>
                    <p class="mb-1">
                      <strong>อีเมล:</strong> somchai65@nu.ac.th
                    </p>
                    <p class="mb-3">
                      <strong>รายงานเมื่อ:</strong> 20 พฤศจิกายน 2567
                    </p>
                    <button
                      class="btn btn-success"
                      onclick="moveToAccepted('card-projector')"
                    >
                      รับเรื่องแล้ว
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- สามารถใส่การ์ดอุปกรณ์ชำรุดอื่น ๆ เพิ่มเติมได้ -->
          </div>
          <!-- /แท็บ: อุปกรณ์ชำรุด -->

          <!-- แท็บ: รับเรื่องแล้ว -->
          <div
            class="tab-pane fade"
            id="accepted"
            role="tabpanel"
            aria-labelledby="accepted-tab"
          >
            <div id="accepted-content">
              <div class="card my-3">
                <div class="card-header">ตัวอย่างรับเรื่องแล้ว (1)</div>
                <div class="card-body">
                  <p>ข้อมูลเคสที่เคยรับเรื่องแล้ว</p>
                </div>
              </div>
              <!-- สามารถใส่ Card เพิ่มเติมได้ตามต้องการ -->
            </div>
          </div>
          <!-- /แท็บ: รับเรื่องแล้ว -->
        </div>
      </div>
    </div>
    <!-- /เนื้อหา -->

    <!-- Bootstrap 5 Bundle JS -->
    <script>
      document
        .querySelector("#accepted-tab")
        .addEventListener("click", function () {
          window.location.href = "accept_equipment.html"; // เปลี่ยนไปยังหน้าใหม่
        });
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const content = document.querySelector(".content");

        // เปิด/ปิด Sidebar
        sidebar.classList.toggle("open");

        // เลื่อนเนื้อหาหลัก
        content.classList.toggle("shifted");
      }
    </script>
  </body>
</html>
